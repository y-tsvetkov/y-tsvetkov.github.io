<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>IROS 2022 paper | Yordan Tsvetkov</title> <meta name="author" content="Yordan Tsvetkov"> <meta name="description" content="A Novel Design and Evaluation of a Dactylus-Equipped Quadruped Robot for Mobile Manipulation"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%A4%96&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://y-tsvetkov.github.io/projects/1_project/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js"></script> <script src="/assets/js/dark_mode.js"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Yordan </span>Tsvetkov</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">IROS 2022 paper</h1> <p class="post-description">A Novel Design and Evaluation of a Dactylus-Equipped Quadruped Robot for Mobile Manipulation</p> </header> <article> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/bot_overview-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/bot_overview-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/bot_overview-1400.webp"></source> <img src="/assets/img/bot_overview.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p>Something that’s been bothering me about four-legged robots for a while now is how can we make them useful. Many quadrupeds are marketed for inspection tasks, which a drone could likely do just as well. One thing a legged bot can do better than a drone though is environmental interaction - pushing buttons, pulling levers, carrying objects etc. For this task they are usually given arm payloads with grippers, which take up space and payload capacity, not to mention often costing as much as the robot itself.</p> <p>The shortcomings of arms and a need for lighter and cheaper manipulation are starting to become apparent in practice. For example, in the <a href="https://www.aira-challenge.com/" rel="external nofollow noopener" target="_blank">AIRA 2022</a> challenge, which featured navigation and locomotion tasks for legged robots, teams needed to swap between SLAM payloads and arms to complete all required tasks. Although this is fine for an academic environment, in real-world deployment far away from an operator you can’t change payloads. In his <a href="https://www.youtube.com/watch?v=abdLIFOzdRo" rel="external nofollow noopener" target="_blank">ICRA 2022 keynote talk</a>, Marco Hutter (founder of ANYbotics) also brought up manipulation if we want practical quadrupeds.</p> <p>Another thing of note is the <a href="https://www.science.org/doi/10.1126/science.aat8414" rel="external nofollow noopener" target="_blank">recent interest and progress in the field of two-limbed manipulation</a>. A second arm is very useful when it comes to carrying big objects or providing support, like holding a bottle with one hand while screwing the cap on with the other, and some very smart people have been <a href="https://arxiv.org/abs/2208.10552" rel="external nofollow noopener" target="_blank">devising ways to take advantage of 2 arms</a> (that’s also the IROS 2022 Best Paper). It might not be too early to consider having 2 grippers on a quadruped to improve manipulation. Just sticking 2 arms won’t cut it - <a href="https://dev.bostondynamics.com/docs/payload/payload_configuration_requirements" rel="external nofollow noopener" target="_blank">Spot has a max payload of 14 kg</a> and <a href="https://www.bostondynamics.com/sites/default/files/inline-files/spot-arm.pdf" rel="external nofollow noopener" target="_blank">2 Spot Arms would weigh 16 kg in total</a>, so a dual-armed Spot could only be useful if your application involves carrying <a href="https://www.uu.edu/dept/physics/scienceguys/2000July.cfm" rel="external nofollow noopener" target="_blank">at least 122</a> helium balloons.</p> <h2 id="the-idea">The idea</h2> <p>So, what can we do about it? My thinking went something like this: on a quadruped, we already have 4 legs designed to be both dynamic and precise. Those legs have 3 motors each, capable of carrying a whole body. We are only 4 DoFs away from an arm + gripper, and these DoFs can have smaller and cheaper motors since the leg motors are the ones doing the heavy lifting.</p> <p>In this case, <em>can we put some grippers on the front legs for one- and two-limbed manipulation?</em></p> <p>To see how far could this idea go, I made a small-scale quadruped robot with 3-DoF manipulators on its front legs and normal hind legs.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/all_experiments_text.gif-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/all_experiments_text.gif-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/all_experiments_text.gif-1400.webp"></source> <img src="/assets/img/all_experiments_text.gif" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> It worked fairly well. </div> <h2 id="conventional-leg">Conventional leg</h2> <p>To get to a manipulation-capable leg, we need a normal leg first. Such a leg would need to be light, stiff and the knee should bend both ways to easily grab objects from the ground once it gets a manipulator, therefore I can’t use a four-bar leg design like in Stanford Pupper. For manufacturing, I only had access to a 3D-printer. For actuation, I settled on the <a href="https://www.gobilda.com/2000-series-dual-mode-servo-25-2-torque/" rel="external nofollow noopener" target="_blank">Gobilda 2000 Torque</a> since they have sufficient torque and a range of 300°, allowing for the double-bending knee. 2 such motors in the knees should comfortably lift 2 kg from 15 cm away, which was the projected worst case for the mass of a body + 2 legs. Considering the motors, I had the leg sections to be longer than 10 cm, just to not test the motor limits too much.</p> <p>With the design specs out of the way, I ended up with a belt-driven leg:</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/normal_leg-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/normal_leg-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/normal_leg-1400.webp"></source> <img src="/assets/img/normal_leg.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Non-grabby leg. </div> <p>It’s about 45% or 158 g lighter than <a href="https://github.com/OpenQuadruped/spot_mini_mini" rel="external nofollow noopener" target="_blank">OpenQuadruped, the best fully 3D-printed design I found at this scale</a> and it took some heavy falls while testing without breaking, so it did its job. Here are a few interesting design details:</p> <ul> <li>It prints without slicer supports - there are only 2 tiny ones on the femur (4) that are baked in the model.</li> <li>For the knee joint, using 4mm width M3 belts instead of the more common 6mm M2 belts (as with the design I compared against) enables the servo pulley (5) to be mounted under the servo hub instead of over it. This reduces design size and moves the point at which force is applied closer to the base of the shaft, reducing bending stresses.</li> <li>The tibia servo motor is integrated as a stress-bearing member, improving leg resistance to side forces.</li> <li>The cavities on the inner side of the tibia halves (8-9) add perimeters of material away from the neutral axis, increasing the second moment of area and thus improving stiffness for about the same mass as a part with uniform infill.</li> <li>I resorted to directly threading the screws in plastic rather than heat set inserts/captive nuts since they’d add quite a bit of weight while <a href="https://youtu.be/2wRc1KbEAU8?t=522" rel="external nofollow noopener" target="_blank">not being that much stronger.</a> </li> </ul> <h2 id="manipulation-capable-leg">Manipulation-capable leg</h2> <p>My thinking for how to make the leg grabby was centered on adding a second end effector that can move in 3D relative to the EE of the leg. The idea behind the configuration is probably best demonstrated by <a href="https://www.youtube.com/watch?v=CcYRXgKgxnw" rel="external nofollow noopener" target="_blank">this video of a crab eating noodles</a>. You can notice how when it grabs a noodle, only the upper pincer moves, and the lower pincer is just a static extension of the lower limb. If there is a 1-DoF wrist before the claw and we give the moving pincer another DoF, that’s 3 - enough to have the second end effector move in 3D-space, relative to the leg tip.</p> <p>With this out of the way, here’s the finalised leg:</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/grabby_leg-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/grabby_leg-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/grabby_leg-1400.webp"></source> <img src="/assets/img/grabby_leg.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Grabby leg. <a href="https://en.wikipedia.org/wiki/Carcinisation" rel="external nofollow noopener" target="_blank">Carcinization FTW!</a> </div> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/cropped_dofs-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/cropped_dofs-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/cropped_dofs-1400.webp"></source> <img src="/assets/img/cropped_dofs.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Here's only the tibia to show the grabby DoFs more clearly. </div> <p>The motors used for the pincer are <a href="https://www.robotshop.com/products/25kg-goteck-metal-gear-micro-servo" rel="external nofollow noopener" target="_blank">these Goteck micro servos</a>. They are really strong and reasonably cheap for their size and their cables come out from the bottom rather than from the back, which allows for a tighter assembly.</p> <p>The pincer is cable-driven, with 3D-printed spiral torsion springs counteracting the cables. The springs were represented as logarithmic spirals with their parameters generated from the nonlinear constrained optimisation approach detailed in <a href="https://asmedigitalcollection.asme.org/SMASIS/proceedings/SMASIS2016/50497/Stowe,%20Vermont,%20USA/289603" rel="external nofollow noopener" target="_blank">this paper by Scarcia et al.</a>. To do the optimisation, I plugged the equations in MATLAB’s <code class="language-plaintext highlighter-rouge">nonlcon</code>. The spring stiffness was chosen to be <code class="language-plaintext highlighter-rouge">[max servo torque]/(2*pi)</code> and they were pretensioned to 45 degrees for good holding power while not stressing out the servos too much. I also lowered the max acceptable stress % from 75% to 60 after some spring stress testing, since PLA is more susceptible to <a href="https://en.wikipedia.org/wiki/Creep_(deformation)" rel="external nofollow noopener" target="_blank">creep</a>.</p> <p>The cables driving the pincer are routed in such a way that they do not experience contraction/extension as the knee joint rotates. They pass through a channel on the knee axis, followed by a conical channel in the tibia and finally reaching the finger. Here’s a GIF that can show it much better than I can put it in words:</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/publication_preview/robot-leg.gif-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/publication_preview/robot-leg.gif-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/publication_preview/robot-leg.gif-1400.webp"></source> <img src="/assets/img/publication_preview/robot-leg.gif" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> The pincer joints don't move the leg is actuated. </div> <p>Even with the additional mass, this leg is still 30% or 104 g lighter than OpenQuadruped’s. In terms of<a href="https://en.wikipedia.org/wiki/Moment_of_inertia" rel="external nofollow noopener" target="_blank"> moment of inertia</a> (AKA MoI, essentially the rotational equivalent of mass), both grabby and non-grabby legs here are still better, even when accounting for the slightly longer length of OpenQuadruped legs. Here’s a graph to summarise it all:</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/moi_mass_graph-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/moi_mass_graph-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/moi_mass_graph-1400.webp"></source> <img src="/assets/img/moi_mass_graph.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Apologies for the unnecessary Latin - 'dactylus' is 'pincer', 'sagittal Moi' means 'how hard is it to swing the leg around the femur servo axis', and 'coronal MoI' is the same for side to side rotation around the coxa servo axis. </div> <p>The MoI of the grabby leg is higher than the non-grabby one, which is expected. Looking at the MoIs on a part-by-part basis we can see why:</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/moi_per_parts-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/moi_per_parts-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/moi_per_parts-1400.webp"></source> <img src="/assets/img/moi_per_parts.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Again, 'dactylus' is 'pincer', 'sagittal Moi' means 'how hard is it to swing the leg forwards/backwards around the femur servo axis'. And again, sorry for the Latin. </div> <p>The majority of the increase comes just from the wrist servo. MoI depends on the square of the distance from the axis around which you measure it, hence why the femur assembly, with its center of mass close to the axis, is not that rotationally heavy. The wrist servo is about 15 g (a fair amount of weight at this scale) and it’s fairly far away, so the increase checks out. Still, wrist servo aside, the pincer and its servos aren’t too bad. I’d wager that at a bigger scale with more space, there is a better solution to this that can make the assembly even lighter.</p> <p>Another thing to note is the price. At $7.50 per micro servo, the electronics for a single pincer come out at $22.50, while an extra arm and gripper would need 3 Gobildas + 4 micro servos, or $126 at the time of writing. The added masses come out at 54 g and 290 g respectively. Overall, an arm would be about 5x more expensive and 5x heavier than a pincer.</p> <p>A few words on the assembled robot - it’s powered by a 2-cell Li-Po battery, whose power is distributed by a BEC on a custom power distribution board that plugs onto a Raspberry Pi. The Pi is responsible for the high-level control, while a Teensy 3.5 does the low-level motions. Due to the ongoing chip shortage, I also made it so it can run without a Pi if needed.</p> <h2 id="software-and-testing">Software and testing</h2> <p>I implemented a jerk-continuous motion profile detailed in <a href="https://www.sciencedirect.com/science/article/pii/S0094114X20301786" rel="external nofollow noopener" target="_blank">this paper by Yi Fang et al.</a> for low-level control. It’s just a long, piecewise equation you can integrate 3 times to get a displacement profile. The only cool thing about my implementation is that radially mirroring the profile past the midpoint saves some computational time. As for high-level control, I wanted to implement a Blender-based GUI that allows for more intuitive control, but ran out of time and resorted to manually driving the joints.</p> <p>Luckily, the manipulators were good enough to compensate for the far-from-perfect control strategy. The robot managed to hold reliably objects of various sizes with a single leg and use wire cutters on some rubber tubing with 2 legs. The footage of the experiments is in the thumbnail GIF and near the end of my IROS 2022 presentation:</p> <iframe width="775" height="436" src="https://www.youtube.com/embed/MOX-r0w0K7I" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe> <h2 id="whats-next">What’s next</h2> <p>To my knowledge, this is the first quadruped capable of single-legged manipulation and using tools while using hardware 5x lighter and 5x cheaper than an equivalent conventional arm. The results were promising and now need deployment at a larger scale to explore the possibilities, so I’ll be upscaling it to the ANYmal quadruped in my local robotics lab. I expect the moment of inertia increase to become smaller for an aluminum construction (for a better strength/mass ratio than PLA). Another thing that might help is that motors tend to constitute a smaller % of the total mass as a robot gets bigger (about 52% for this robot, 36% for ANYmal), meaning I might get away with a directly-driven wrist. And that’s not mentioning the much more torque-dense motors one could have access to at a bigger scale. Once the upscaled design is done, it will receive a writeup here, so stay tuned.</p> <p>There are many small things I’d want to change in the bigger version too. The wrist will need to be redesigned because for a big quadruped, I wouldn’t want to load the ‘wrist’ with the stress caused from carrying the body and the legs impacting the ground. Furthermore, although we can control the grasping point, there is no way to change the orientation of the object on the axis connecting the points of contact since it’s lacking a DoF for this. Maybe whole-body motion can be used to circumvent this lack of a DoF, reducing the cost and complexity, but then this will make the gripper harder to use than an arm payload and thus less desirable… this got complicated quick. Other viewpoints are very welcome here! Feel free to reach out at <a href="mailto:Y.T.Tsvetkov@sms.ed.ac.uk">Y.T.Tsvetkov@sms.ed.ac.uk</a>, I’d love to hear other people’s opinions on this.</p> <h2 id="full-paper">Full paper</h2> <p>If you want to read about this work in more detail, you can find a preprint of the paper <a href="https://arxiv.org/abs/2207.08765" rel="external nofollow noopener" target="_blank">here</a>. If you have any feedback, don’t hesitate to share it with me at <a href="mailto:Y.T.Tsvetkov@sms.ed.ac.uk">Y.T.Tsvetkov@sms.ed.ac.uk</a>!</p> </article> </div> </div> <footer class="sticky-bottom mt-5"> <div class="container"> © Copyright 2024 Yordan Tsvetkov. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a>. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="/assets/js/common.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>